<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Calendar ‚Äî AcadTrack</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
<style>
:root{
  --primary:#6C63FF;
  --accent:#00C9A7;
  --bg:#F9F9FF;
  --text:#2E2E2E;
  --card-shadow: rgba(0,0,0,0.1);
  --transition:0.3s ease-in-out;
}
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:'Poppins',sans-serif;background:var(--bg);color:var(--text);transition: background var(--transition), color var(--transition);}
.sidebar{width:250px;background:var(--primary);color:#fff;height:100vh;position:fixed;padding:22px 18px;display:flex;flex-direction:column;gap:15px;}
.sidebar h2{font-weight:700;margin-bottom:30px;text-align:center;}
.sidebar a{display:block;color:#fff;text-decoration:none;padding:12px 14px;border-radius:12px;transition:background var(--transition),transform var(--transition);}
.sidebar a.active, .sidebar a:hover{background:linear-gradient(90deg,var(--primary),#3b82f6);transform:translateX(5px);}
.main{margin-left:270px;padding:28px;transition:margin-left var(--transition),padding var(--transition);}
.main h1{margin-bottom:20px;font-weight:700;color:var(--primary);}
.card{background:pink;padding:25px;border-radius:16px;box-shadow:0 12px 25px var(--card-shadow);transition:transform var(--transition),box-shadow var(--transition);margin-bottom:20px;}
.card:hover{transform:translateY(-3px);box-shadow:0 18px 30px rgba(0,0,0,0.15);}
.header-row,.calendar-grid{display:grid;gap:8px;}
.header-row{grid-template-columns:repeat(7,1fr);margin-bottom:8px;}
.header-row div{text-align:center;color:#666;font-weight:500;}
.calendar-grid{grid-template-columns:repeat(7,1fr);}
.day{background:greenyellow;padding:12px;border-radius:12px;min-height:80px;box-shadow:0 6px 18px rgba(0,0,0,0.04);transition:transform var(--transition),box-shadow var(--transition),background var(--transition);position:relative;cursor:pointer;}
.day:hover{transform:translateY(-3px);box-shadow:0 12px 25px rgba(0,0,0,0.1);background:#f0f0ff;}
.day.today{border:2px solid var(--accent);}
.day strong{display:block;margin-bottom:6px;}
.event{background:linear-gradient(90deg,#6C63FF,#00C9A7);color:#fff;padding:6px 8px;border-radius:8px;margin-top:4px;font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:transform var(--transition);}
.event:hover{transform:scale(1.05);}
.day .tooltip{display:none;position:absolute;top:100%;left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.8);color:#fff;padding:6px 10px;border-radius:8px;font-size:12px;white-space:nowrap;z-index:10;}
.day:hover .tooltip{display:block;}
.month-nav{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;}
.month-nav button{background:var(--primary);color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer;transition:transform var(--transition),box-shadow var(--transition);}
.month-nav button:hover{transform:translateY(-2px);box-shadow:0 6px 15px rgba(108,99,255,0.3);}
#addActivityForm input,#addActivityForm textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #ddd;margin-bottom:10px;transition:border var(--transition),box-shadow var(--transition);}
#addActivityForm input:focus,#addActivityForm textarea:focus{border-color:var(--primary);box-shadow:0 0 10px rgba(108,99,255,0.2);outline:none;}
button[type="submit"]{background:linear-gradient(90deg,var(--primary),var(--accent));color:#fff;padding:10px 14px;border:none;border-radius:10px;cursor:pointer;font-weight:500;transition:transform var(--transition),box-shadow var(--transition);}
button[type="submit"]:hover{transform:translateY(-2px);box-shadow:0 6px 15px rgba(108,99,255,0.3);}
@media(max-width:800px){.sidebar{position:relative;width:100%;height:auto}.main{margin-left:0;padding:16px}.calendar-grid,.header-row{grid-template-columns:repeat(2,1fr);}}
</style>
</head>
<body>
<nav class="sidebar">
  <h2>AcadTrack</h2>
  <a href="dashboard.html"><i>üè†</i> Dashboard</a>
  <a href="activities.html"><i>üìã</i> Activities</a>
  <a href="calendar.html"><i>üìÖ</i> Calendar</a>
  <a href="profile.html" class="active"><i>üë§</i> Profile</a>
  <a href="../logout.html" style="margin-top:12px"><i>üö™</i> Logout</a>
</nav>

<main class="main">
  <h1>Calendar</h1>

  <!-- Month Navigation -->
  <div class="card month-nav">
    <button id="prevMonth">&lt; Prev</button>
    <strong id="monthYear">Month Year</strong>
    <button id="nextMonth">Next &gt;</button>
  </div>

  <!-- Calendar Grid -->
  <div class="card">
    <div class="header-row">
      <div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>
    </div>
    <div id="calendar" class="calendar-grid"></div>
  </div>

  <!-- Add Activity Form -->
  <div class="card">
    <h2>Add Activity</h2>
    <form id="addActivityForm">
      <input type="date" id="actDate" required />
      <input type="text" id="actTitle" placeholder="Activity Title" required />
      <textarea id="actDesc" rows="3" placeholder="Activity Description"></textarea>
      <button type="submit">Add Activity</button>
    </form>
  </div>

</main>

<script>
// Seed activities
if(!localStorage.getItem('activities') || JSON.parse(localStorage.getItem('activities')).length===0){
  localStorage.setItem('activities', JSON.stringify([
    {id:1,title:"Quiz 1",desc:"Chapter 1 quiz",date:"2025-10-28"},
    {id:2,title:"Web Project",desc:"Build a small website",date:"2025-11-05"},
    {id:3,title:"Lab",desc:"Networking lab",date:"2025-10-24"}
  ]));
}

let events = JSON.parse(localStorage.getItem('activities')||'[]');
let currentDate = new Date();

function buildCalendar(dateObj){
  const year = dateObj.getFullYear();
  const month = dateObj.getMonth();
  const firstDay = new Date(year,month,1).getDay();
  const daysInMonth = new Date(year,month+1,0).getDate();
  const container = document.getElementById('calendar');
  container.innerHTML='';
  document.getElementById('monthYear').textContent=dateObj.toLocaleString('default',{month:'long',year:'numeric'});

  // Empty cells
  for(let i=0;i<firstDay;i++) container.appendChild(createEmpty());

  // Days
  for(let d=1;d<=daysInMonth;d++){
    const dayCell=document.createElement('div'); dayCell.className='day';
    const dateStr=`${year}-${String(month+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
    dayCell.innerHTML=`<strong>${d}</strong>`;
    
    // Highlight today
    const today=new Date();
    if(d===today.getDate() && month===today.getMonth() && year===today.getFullYear()){
      dayCell.classList.add('today');
    }

    // Events
    events.filter(e=>e.date===dateStr).forEach(ev=>{
      const evNode=document.createElement('div');
      evNode.className='event';
      evNode.textContent=ev.title;
      const tooltip=document.createElement('div');
      tooltip.className='tooltip';
      tooltip.textContent=ev.desc;
      evNode.appendChild(tooltip);
      dayCell.appendChild(evNode);
    });

    container.appendChild(dayCell);
  }
}
function createEmpty(){ const el=document.createElement('div'); el.className='day'; return el; }

// Month navigation
document.getElementById('prevMonth').addEventListener('click',()=>{
  currentDate.setMonth(currentDate.getMonth()-1);
  buildCalendar(currentDate);
});
document.getElementById('nextMonth').addEventListener('click',()=>{
  currentDate.setMonth(currentDate.getMonth()+1);
  buildCalendar(currentDate);
});

// Add activity dynamically
document.getElementById('addActivityForm').addEventListener('submit',e=>{
  e.preventDefault();
  const newAct={
    id:Date.now(),
    date:document.getElementById('actDate').value,
    title:document.getElementById('actTitle').value.trim(),
    desc:document.getElementById('actDesc').value.trim()
  };
  events.push(newAct);
  localStorage.setItem('activities',JSON.stringify(events));
  buildCalendar(currentDate);
  e.target.reset();
});

buildCalendar(currentDate);
</script>
</body>
</html>
